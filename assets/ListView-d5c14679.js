import{h as Z,m as se,ae as Ie,af as we,d as Q,c as I,e as ee,f as n,T as K,ag as J,ah as ke,I as le,ai as ae,G as Pe,j as Re,q as Se,t as Fe,O as Be,y as $e,aj as Te,ak as Le,r as T,Y as Oe,Z as De,al as We,w as Ae,a1 as Ee,W as Me,am as Ne,ac as E,an as H,ao as Ue,ap as qe,aq as je,ar as Ke,as as ze,U as Xe,at as Ye,n as de,au as Ge,a2 as He,a3 as $,a4 as Je,a5 as D,a6 as Ze,av as ce,a7 as c,aa as W,ab as fe,u as A,aw as ve,a8 as me,a9 as j}from"./index-0ced500c.js";import{u as Qe}from"./list-098b4931.js";import{V as Y,a as et}from"./VRow-7c7bea71.js";import{V as tt,m as nt,u as be,a as lt,b as at,c as he,d as ge}from"./VInput-0c4b3531.js";class ie{constructor(o){let{x:a,y:i,width:t,height:l}=o;this.x=a,this.y=i,this.width=t,this.height=l}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function it(e){const o=e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){let t,l,r,d,f;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),l=+t[0],r=+t[5],d=+t[12],f=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),l=+t[0],r=+t[3],d=+t[4],f=+t[5];else return new ie(o);const m=a.transformOrigin,y=o.x-d-(1-l)*parseFloat(m),h=o.y-f-(1-r)*parseFloat(m.slice(m.indexOf(" ")+1)),w=l?o.width/l:e.offsetWidth+1,p=r?o.height/r:e.offsetHeight+1;return new ie({x:y,y:h,width:w,height:p})}else return new ie(o)}function ot(e,o,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(o,a)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const rt="cubic-bezier(0.4, 0, 0.2, 1)";const st=Z({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...se(),...Ie({transition:{component:we}})},"VCounter"),ut=Q()({name:"VCounter",functional:!0,props:st(),setup(e,o){let{slots:a}=o;const i=I(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ee(()=>n(ke,{transition:e.transition},{default:()=>[K(n("div",{class:["v-counter",e.class],style:e.style},[a.default?a.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[J,e.active]])]})),{}}});const dt=Z({floating:Boolean,...se()},"VFieldLabel"),G=Q()({name:"VFieldLabel",props:dt(),setup(e,o){let{slots:a}=o;return ee(()=>n(tt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),ct=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],_e=Z({appendInnerIcon:le,bgColor:String,clearable:Boolean,clearIcon:{type:le,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:le,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ct.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...se(),...Pe(),...Re(),...Se()},"VField"),xe=Q()({name:"VField",inheritAttrs:!1,props:{id:String,...nt(),..._e()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const{themeClasses:l}=Fe(e),{loaderClasses:r}=Be(e),{focusClasses:d,isFocused:f,focus:m,blur:y}=be(e),{InputIcon:h}=lt(e),{roundedClasses:w}=$e(e),{rtlClasses:p}=Te(),R=I(()=>e.dirty||e.active),g=I(()=>!e.singleLine&&!!(e.label||t.label)),b=Le(),v=I(()=>e.id||`input-${b}`),s=I(()=>`${v.value}-messages`),L=T(),_=T(),z=T(),u=I(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:k,backgroundColorStyles:P}=Oe(De(e,"bgColor")),{textColorClasses:S,textColorStyles:te}=We(I(()=>e.error||e.disabled?void 0:R.value&&f.value?e.color:e.baseColor));Ae(R,C=>{if(g.value){const x=L.value.$el,F=_.value.$el;requestAnimationFrame(()=>{const B=it(x),V=F.getBoundingClientRect(),N=V.x-B.x,U=V.y-B.y-(B.height/2-V.height/2),O=V.width/.75,q=Math.abs(O-B.width)>1?{maxWidth:Ee(O)}:void 0,X=getComputedStyle(x),ue=getComputedStyle(F),pe=parseFloat(X.transitionDuration)*1e3||150,Ce=parseFloat(ue.getPropertyValue("--v-field-label-scale")),Ve=ue.getPropertyValue("color");x.style.visibility="visible",F.style.visibility="hidden",ot(x,{transform:`translate(${N}px, ${U}px) scale(${Ce})`,color:Ve,...q},{duration:pe,easing:rt,direction:C?"normal":"reverse"}).finished.then(()=>{x.style.removeProperty("visibility"),F.style.removeProperty("visibility")})})}},{flush:"post"});const M=I(()=>({isActive:R,isFocused:f,controlRef:z,blur:y,focus:m}));function ne(C){C.target!==document.activeElement&&C.preventDefault()}return ee(()=>{var N,U,O;const C=e.variant==="outlined",x=t["prepend-inner"]||e.prependInnerIcon,F=!!(e.clearable||t.clear),B=!!(t["append-inner"]||e.appendInnerIcon||F),V=()=>t.label?t.label({...M.value,label:e.label,props:{for:v.value}}):e.label;return n("div",H({class:["v-field",{"v-field--active":R.value,"v-field--appended":B,"v-field--center-affix":e.centerAffix??!u.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":x,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!V(),[`v-field--variant-${e.variant}`]:!0},l.value,k.value,d.value,r.value,w.value,p.value,e.class],style:[P.value,e.style],onClick:ne},a),[n("div",{class:"v-field__overlay"},null),n(Me,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),x&&n("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&n(h,{key:"prepend-icon",name:"prependInner"},null),(N=t["prepend-inner"])==null?void 0:N.call(t,M.value)]),n("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&g.value&&n(G,{key:"floating-label",ref:_,class:[S.value],floating:!0,for:v.value,style:te.value},{default:()=>[V()]}),n(G,{ref:L,for:v.value},{default:()=>[V()]}),(U=t.default)==null?void 0:U.call(t,{...M.value,props:{id:v.value,class:"v-field__input","aria-describedby":s.value},focus:m,blur:y})]),F&&n(Ne,{key:"clear"},{default:()=>[K(n("div",{class:"v-field__clearable",onMousedown:q=>{q.preventDefault(),q.stopPropagation()}},[t.clear?t.clear():n(h,{name:"clear"},null)]),[[J,e.dirty]])]}),B&&n("div",{key:"append",class:"v-field__append-inner"},[(O=t["append-inner"])==null?void 0:O.call(t,M.value),e.appendInnerIcon&&n(h,{key:"append-icon",name:"appendInner"},null)]),n("div",{class:["v-field__outline",S.value],style:te.value},[C&&n(E,null,[n("div",{class:"v-field__outline__start"},null),g.value&&n("div",{class:"v-field__outline__notch"},[n(G,{ref:_,floating:!0,for:v.value},{default:()=>[V()]})]),n("div",{class:"v-field__outline__end"},null)]),u.value&&g.value&&n(G,{ref:_,floating:!0,for:v.value},{default:()=>[V()]})])])}),{controlRef:z}}});function ft(e){const o=Object.keys(xe.props).filter(a=>!Ue(a)&&a!=="class"&&a!=="style");return qe(e,o)}const oe=Symbol("Forwarded refs");function re(e,o){let a=e;for(;a;){const i=Reflect.getOwnPropertyDescriptor(a,o);if(i)return i;a=Object.getPrototypeOf(a)}}function vt(e){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return e[oe]=a,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const r of a)if(r.value&&Reflect.has(r.value,l)){const d=Reflect.get(r.value,l);return typeof d=="function"?d.bind(r.value):d}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const r of a)if(r.value&&Reflect.has(r.value,l))return!0;return!1},set(t,l,r){if(Reflect.has(t,l))return Reflect.set(t,l,r);if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const d of a)if(d.value&&Reflect.has(d.value,l))return Reflect.set(d.value,l,r);return!1},getOwnPropertyDescriptor(t,l){var d;const r=Reflect.getOwnPropertyDescriptor(t,l);if(r)return r;if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const f of a){if(!f.value)continue;const m=re(f.value,l)??("_"in f.value?re((d=f.value._)==null?void 0:d.setupState,l):void 0);if(m)return m}for(const f of a){const m=f.value&&f.value[oe];if(!m)continue;const y=m.slice();for(;y.length;){const h=y.shift(),w=re(h.value,l);if(w)return w;const p=h.value&&h.value[oe];p&&y.push(...p)}}}}})}const mt=["color","file","time","date","datetime-local","week","month"],ht=Z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...at(),..._e()},"VTextField"),ye=Q()({name:"VTextField",directives:{Intersect:je},inheritAttrs:!1,props:ht(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const l=Ke(e,"modelValue"),{isFocused:r,focus:d,blur:f}=be(e),m=I(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),y=I(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),h=I(()=>["plain","underlined"].includes(e.variant));function w(u,k){var P,S;!e.autofocus||!u||(S=(P=k[0].target)==null?void 0:P.focus)==null||S.call(P)}const p=T(),R=T(),g=T(),b=I(()=>mt.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function v(){var u;g.value!==document.activeElement&&((u=g.value)==null||u.focus()),r.value||d()}function s(u){i("mousedown:control",u),u.target!==g.value&&(v(),u.preventDefault())}function L(u){v(),i("click:control",u)}function _(u){u.stopPropagation(),v(),de(()=>{l.value=null,Ge(e["onClick:clear"],u)})}function z(u){var P;const k=u.target;if(l.value=k.value,(P=e.modelModifiers)!=null&&P.trim&&["text","search","password","tel","url"].includes(e.type)){const S=[k.selectionStart,k.selectionEnd];de(()=>{k.selectionStart=S[0],k.selectionEnd=S[1]})}}return ee(()=>{const u=!!(t.counter||e.counter!==!1&&e.counter!=null),k=!!(u||t.details),[P,S]=ze(a),{modelValue:te,...M}=he.filterProps(e),ne=ft(e);return n(he,H({ref:p,modelValue:l.value,"onUpdate:modelValue":C=>l.value=C,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":h.value},e.class],style:e.style},P,M,{centerAffix:!h.value,focused:r.value}),{...t,default:C=>{let{id:x,isDisabled:F,isDirty:B,isReadonly:V,isValid:N}=C;return n(xe,H({ref:R,onMousedown:s,onClick:L,"onClick:clear":_,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},ne,{id:x.value,active:b.value||B.value,dirty:B.value||e.dirty,disabled:F.value,focused:r.value,error:N.value===!1}),{...t,default:U=>{let{props:{class:O,...q}}=U;const X=K(n("input",H({ref:g,value:l.value,onInput:z,autofocus:e.autofocus,readonly:V.value,disabled:F.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:v,onBlur:f},q,S),null),[[Xe("intersect"),{handler:w},null,{once:!0}]]);return n(E,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?n("div",{class:O,"data-no-activator":""},[t.default(),X]):Ye(X,{class:O}),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:k?C=>{var x;return n(E,null,[(x=t.details)==null?void 0:x.call(t,C),u&&n(E,null,[n("span",null,null),n(ut,{active:e.persistentCounter||r.value,value:m.value,max:y.value},t.counter)])])}:void 0})}),vt({},p,R,g)}}),gt=c("h1",{class:"text-center"},"事項",-1),yt=c("thead",null,[c("tr",{style:{background:"#a9ddff"}},[c("th",null,"名稱"),c("th",null,"操作")])],-1),bt={key:0},_t=c("td",{colspan:"2"},"沒有事項",-1),xt=[_t],pt=c("h1",{class:"text-center"},"已完成事項",-1),Ct=c("thead",null,[c("tr",{style:{background:"#ffd4fb"}},[c("th",null,"名稱"),c("th",null,"操作")])],-1),Vt={key:0},It=c("td",{colspan:"2"},"沒有已完成事項",-1),wt=[It],kt=c("iframe",{style:{"border-radius":"12px","margin-top":"32px",position:"absolute",left:"50%",transform:"translateX(-50%)"},src:"https://open.spotify.com/embed/playlist/2o147p26y7a1BJ76MsBqta?utm_source=generator",width:"600",height:"200",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"},null,-1),Bt={__name:"ListView",setup(e){const o=Qe(),{items:a,finishedItems:i}=He(o),{addItem:t,editItem:l,delItem:r,cancelEditItem:d,confirmEditItem:f,delFinishedItem:m}=o,y=T(""),h=T(null),w=T([]),p=async()=>{const b=await h.value.validate();console.log(b),!(b.length>0)&&(t(y.value),h.value.reset())},R=async(b,v)=>{(await w.value[v].validate()).length>0||f(b)},g={required:b=>!!b||"欄位必填",length:b=>b.length>=3||"必須三個字以上"};return(b,v)=>($(),Je(Ze,null,{default:D(()=>[n(et,null,{default:D(()=>[n(Y,{cols:"12"},{default:D(()=>[gt]),_:1}),n(Y,{cols:"12"},{default:D(()=>[n(ye,{variant:"solo-filled",label:"新增事項",modelValue:y.value,"onUpdate:modelValue":v[0]||(v[0]=s=>y.value=s),rules:[g.required,g.length],"append-icon":"mdi-plus",ref_key:"newItemInput",ref:h,"onClick:append":p,onKeydown:ce(p,["enter"])},null,8,["modelValue","rules"]),n(ge,null,{default:D(()=>[yt,c("tbody",null,[($(!0),W(E,null,fe(A(a),(s,L)=>($(),W("tr",{key:s.id},[c("td",null,[K(c("span",null,me(s.name),513),[[J,!s.edit]]),K(n(ye,{modelValue:s.model,"onUpdate:modelValue":_=>s.model=_,rules:[g.required,g.length],ref_for:!0,ref_key:"editItemInput",ref:w,onKeydown:ce(_=>R(s.id,L),["enter"]),autofocus:""},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[J,s.edit]])]),c("td",null,[s.edit?($(),W(E,{key:1},[n(j,{icon:"mdi-check",variant:"text",color:"green",onClick:_=>R(s.id,L)},null,8,["onClick"]),n(j,{icon:"mdi-undo",variant:"text",color:"red",onClick:_=>A(d)(s.id)},null,8,["onClick"])],64)):($(),W(E,{key:0},[n(j,{icon:"mdi-pencil",variant:"text",color:"green",onClick:_=>A(l)(s.id)},null,8,["onClick"]),n(j,{icon:"mdi-delete",variant:"text",color:"red",onClick:_=>A(r)(s.id)},null,8,["onClick"])],64))])]))),128)),A(a).length===0?($(),W("tr",bt,xt)):ve("",!0)])]),_:1})]),_:1}),n(Y,{cols:"12"},{default:D(()=>[pt]),_:1}),n(Y,{col:"12"},{default:D(()=>[n(ge,null,{default:D(()=>[Ct,c("tbody",null,[($(!0),W(E,null,fe(A(i),s=>($(),W("tr",{key:s.id},[c("td",null,me(s.name),1),c("td",null,[n(j,{icon:"mdi-delete",variant:"text",color:"red",onClick:L=>A(m)(s.id)},null,8,["onClick"])])]))),128)),A(i).length===0?($(),W("tr",Vt,wt)):ve("",!0)])]),_:1})]),_:1})]),_:1}),kt]),_:1}))}};export{Bt as default};
